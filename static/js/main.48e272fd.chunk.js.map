{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","App.module.css","components/Loader/Loader.js","services/imagesApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","LoaderView","className","s","loaderContainer","type","color","height","width","timeout","fetchImage","searchQuery","page","a","axios","get","response","data","Searchbar","state","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","header","form","searchbutton","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","toggleModal","item","src","webformatURL","alt","tags","onClick","status","largeImageURL","ImageGallery","images","list","map","id","Modal","handleKeyDown","code","handleBackdropClick","target","window","addEventListener","removeEventListener","overlay","modal","img","Button","btnContainer","loadmorebtn","App","totalHits","isLoading","showModal","showButton","message","targetImage","onIncrementPage","prevState","onScrollPage","setTimeout","scrollTo","top","document","documentElement","clientHeight","behavior","onCheckButton","length","searchImages","prevProps","then","hits","catch","finally","app","Loader","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,kC,mBCAhED,EAAOC,QAAU,CAAC,aAAe,6BAA6B,YAAc,8B,mBCA5ED,EAAOC,QAAU,CAAC,gBAAkB,kC,mBCApCD,EAAOC,QAAU,CAAC,KAAO,6B,mBCAzBD,EAAOC,QAAU,CAAC,IAAM,mB,oMCiBTC,EAbI,WACjB,OACE,qBAAKC,UAAWC,IAAEC,gBAAlB,SACE,cAAC,IAAD,CACEC,KAAK,YACLC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,S,iDCFFC,EANC,uCAAG,WAAOC,EAAaC,GAApB,eAAAC,EAAA,sEACMC,IAAMC,IAAN,UAHR,0BAGQ,uDACqCJ,EADrC,iBACyDC,EADzD,2BAJT,uCAGG,cACXI,EADW,yBAIVA,EAASC,MAJC,2CAAH,wD,wBCoDDC,E,4MAlDbC,MAAQ,CACNR,YAAa,I,EAGfS,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CAAEX,YAAaU,EAAME,cAAcC,MAAMC,iB,EAGzDC,aAAe,SAAAL,GACbA,EAAMM,iBAEgC,KAAlC,EAAKR,MAAMR,YAAYiB,QAK3B,EAAKC,MAAMC,SAAS,EAAKX,MAAMR,aAC/B,EAAKW,SAAS,CAAEX,YAAa,MAL3BoB,IAAMC,MAAM,4B,4CAQhB,WAAU,IACArB,EAAgBsB,KAAKd,MAArBR,YACR,OACE,wBAAQT,UAAWC,IAAE+B,OAArB,SACE,uBAAMhC,UAAWC,IAAEgC,KAAML,SAAUG,KAAKP,aAAxC,UACE,wBAAQrB,KAAK,SAASH,UAAWC,IAAEiC,aAAnC,SACE,sBAAMlC,UAAWC,IAAEkC,MAAnB,sBAGF,uBACEnC,UAAWC,IAAEmC,MACbjC,KAAK,OACLkC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZjB,MAAOb,EACP+B,SAAUT,KAAKb,6B,GArCHuB,a,iBCyBTC,EA5BU,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAQjC,OACE,oBAAI5C,UAAWC,IAAE4C,KAAjB,SACE,qBACEC,IAAKH,EAAMI,aACXC,IAAKL,EAAMM,KACXjD,UAAWC,IAAE0C,MACbO,QAbU,WACdN,EAAY,CACVO,QAAQ,EACRL,IAAKH,EAAMS,cACXJ,IAAKL,EAAMM,a,iBCeFI,EAnBM,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,OAAQV,EAAkB,EAAlBA,YAC9B,OACE,oBAAI5C,UAAWC,IAAEsD,KAAjB,SACGD,EAAOE,KAAI,SAAAb,GAAK,OACf,cAAC,EAAD,CAEEA,MAAOA,EACPC,YAAaA,GAFRD,EAAMc,U,iBC+BNC,E,4MA3BbC,cAAgB,SAAAxC,GACK,WAAfA,EAAMyC,MACR,EAAKjC,MAAMiB,YAAY,CAAEO,QAAQ,K,EAIrCU,oBAAsB,SAAA1C,GAChBA,EAAM2C,SAAW3C,EAAME,eACzB,EAAKM,MAAMiB,YAAY,CAAEO,QAAQ,K,uDAhBrC,WACEY,OAAOC,iBAAiB,UAAWjC,KAAK4B,iB,kCAG1C,WACEI,OAAOE,oBAAoB,UAAWlC,KAAK4B,iB,oBAe7C,WAAU,IAAD,EACc5B,KAAKJ,MAAlBmB,EADD,EACCA,IAAKE,EADN,EACMA,IACb,OACE,qBAAKhD,UAAWC,IAAEiE,QAAShB,QAASnB,KAAK8B,oBAAzC,SACE,qBAAK7D,UAAWC,IAAEkE,MAAlB,SACE,qBAAKnE,UAAWC,IAAEmE,IAAKtB,IAAKA,EAAKE,IAAKA,Y,GA1B5BP,a,iBCaL4B,EAdA,SAAC,GAAiB,IAAfnB,EAAc,EAAdA,QAChB,OACE,qBAAKlD,UAAWC,IAAEqE,aAAlB,SACE,wBAAQnE,KAAK,SAASH,UAAWC,IAAEsE,YAAarB,QAASA,EAAzD,0B,iBC0ISsB,E,4MApIbvD,MAAQ,CACNR,YAAa,GACb6C,OAAQ,GACRmB,UAAW,EACXrB,cAAe,GACf1C,KAAM,EACNoB,MAAO,KACP4C,WAAW,EACXC,WAAW,EACXC,YAAY,EACZC,QAAS,GACTC,YAAa,M,EAgDflD,SAAW,SAAAN,GACT,EAAKF,SAAS,CAAEX,YAAaa,K,EAG/ByD,gBAAkB,WAChB,EAAK3D,UAAS,SAAA4D,GAAS,MAAK,CAAEtE,KAAMsE,EAAUtE,KAAO,O,EAGvDuE,aAAe,WACbC,YAAW,WACTnB,OAAOoB,SAAS,CACdC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,aAEX,O,EAGLC,cAAgB,WAAO,IAAD,EACU,EAAKxE,MAA3BwD,EADY,EACZA,UACJA,EAFgB,EACDnB,OACIoC,OACrB,EAAKtE,SAAS,CAAEwD,YAAY,IAE5B,EAAKxD,SAAS,CAAEwD,YAAY,IAEzBH,GACH5C,IAAMC,MAAM,8B,EAKhBc,YAAc,YAA2B,IAAxBO,EAAuB,EAAvBA,OAAQL,EAAe,EAAfA,IAAKE,EAAU,EAAVA,IACxBG,EACF,EAAK/B,SAAS,CACZ0D,YAAa,CAAEhC,MAAKE,OACpB2B,WAAW,IAGb,EAAKvD,SAAS,CACZ0D,YAAa,KACbH,WAAW,K,uDApFjB,WACE5C,KAAK4D,iB,gCAGP,SAAmBC,EAAWZ,GAAY,IAAD,EACTjD,KAAKd,MAA3BR,EAD+B,EAC/BA,YAAaC,EADkB,EAClBA,KACjBsE,EAAUvE,cAAgBA,IAC5BsB,KAAK4D,aAAalF,EAAa,GAC/BsB,KAAKX,SAAS,CAAEV,KAAM,KAEpBsE,EAAUtE,OAASA,GACrBqB,KAAK4D,aAAalF,EAAaC,K,0BAInC,WAA0C,IAAD,OAA5BD,EAA4B,uDAAd,GAAIC,EAAU,uDAAH,EAChB,KAAhBD,GACFsB,KAAKX,SAAS,CACZsD,WAAW,IAGblE,EAAWC,EAAaC,GACrBmF,MAAK,SAAA9E,GACS,IAATL,EACF,EAAKU,SAAS,CAAEqD,UAAW1D,EAAK0D,UAAWnB,OAAQvC,EAAK+E,QAExD,EAAK1E,UAAS,SAAA4D,GAAS,MAAK,CAC1B1B,OAAO,GAAD,mBAAM0B,EAAU1B,QAAhB,YAA2BvC,EAAK+E,WAExC,EAAKb,gBAEP,EAAKQ,mBAENM,OAAM,SAAAjE,GAAK,OACV,EAAKV,SAAS,CAAEU,MAAO,0CAExBkE,SAAQ,kBAAM,EAAK5E,SAAS,CAAEsD,WAAW,QAE5C3C,KAAKX,SAAS,CACZkC,OAAQ,GACRsB,YAAY,M,oBAiDlB,WAAU,IAAD,EAOH7C,KAAKd,MALPqC,EAFK,EAELA,OACAoB,EAHK,EAGLA,UACAC,EAJK,EAILA,UACAG,EALK,EAKLA,YACAF,EANK,EAMLA,WAGF,OACE,sBAAK5E,UAAWC,IAAEgG,IAAlB,UACE,cAAC,EAAD,CAAWrE,SAAUG,KAAKH,WACzB8C,GAAa,cAACwB,EAAD,IACb5C,EAAOoC,OAAS,GACf,cAAC,EAAD,CAAcpC,OAAQA,EAAQV,YAAab,KAAKa,cAEjD+B,GACC,cAAC,EAAD,CACE7B,IAAKgC,EAAYhC,IACjBE,IAAK8B,EAAY9B,IACjBJ,YAAab,KAAKa,cAGrBgC,GAAc,cAAC,EAAD,CAAQ1B,QAASnB,KAAKgD,kBACrC,cAAC,IAAD,CAAgBoB,UAAW,a,GAhIjB1D,aCCH2D,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBT,MAAK,YAAkD,IAA/CU,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFzB,SAAS0B,eAAe,SAM1BX,K,kBChBAvG,EAAOC,QAAU,CAAC,OAAS,0BAA0B,KAAO,wBAAwB,aAAe,gCAAgC,MAAQ,yBAAyB,MAAQ,4B","file":"static/js/main.48e272fd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__qTC1i\",\"modal\":\"Modal_modal__2e6ty\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__17qtn\",\"image\":\"ImageGalleryItem_image__3inZZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"Button_btnContainer__XCiFX\",\"loadmorebtn\":\"Button_loadmorebtn__1X0xu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__129Vs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__2y_in\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3Ckl0\"};","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nconst LoaderView = () => {\n  return (\n    <div className={s.loaderContainer}>\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n};\nexport default LoaderView;\n","import axios from 'axios';\n\nconst API_KEY = '19125225-7dee0ee7ebb4766682ccd7b12';\nconst BASE_URL = 'https://pixabay.com/api';\n\nconst fetchImage = async (searchQuery, page) => {\n  const response = await axios.get(\n    `${BASE_URL}/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=8&key=${API_KEY}`,\n  );\n  return response.data;\n};\nexport default fetchImage;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      toast.error('Please add search query');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.header}>\n        <form className={s.form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.searchbutton}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchQuery}\n            onChange={this.handleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  value: PropTypes.string.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  handleInputChange: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ image, toggleModal }) => {\n  const onClick = () => {\n    toggleModal({\n      status: true,\n      src: image.largeImageURL,\n      alt: image.tags,\n    });\n  };\n  return (\n    <li className={s.item}>\n      <img\n        src={image.webformatURL}\n        alt={image.tags}\n        className={s.image}\n        onClick={onClick}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, toggleModal }) => {\n  return (\n    <ul className={s.list}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          image={image}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.toggleModal({ status: false });\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.target === event.currentTarget) {\n      this.props.toggleModal({ status: false });\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return (\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <img className={s.img} src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.btnContainer}>\n      <button type=\"button\" className={s.loadmorebtn} onClick={onClick}>\n        Load More\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport LoaderView from './components/Loader';\nimport { ToastContainer, toast } from 'react-toastify';\nimport fetchImage from './services/imagesApi';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './App.module.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    totalHits: 0,\n    largeImageURL: '',\n    page: 1,\n    error: null,\n    isLoading: false,\n    showModal: false,\n    showButton: false,\n    message: '',\n    targetImage: null,\n  };\n\n  componentDidMount() {\n    this.searchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n    if (prevState.searchQuery !== searchQuery) {\n      this.searchImages(searchQuery, 1);\n      this.setState({ page: 1 });\n    }\n    if (prevState.page !== page) {\n      this.searchImages(searchQuery, page);\n    }\n  }\n\n  searchImages(searchQuery = '', page = 1) {\n    if (searchQuery !== '') {\n      this.setState({\n        isLoading: true,\n      });\n\n      fetchImage(searchQuery, page)\n        .then(data => {\n          if (page === 1) {\n            this.setState({ totalHits: data.totalHits, images: data.hits });\n          } else {\n            this.setState(prevState => ({\n              images: [...prevState.images, ...data.hits],\n            }));\n            this.onScrollPage();\n          }\n          this.onCheckButton();\n        })\n        .catch(error =>\n          this.setState({ error: 'Smth went wrong:( please try again' }),\n        )\n        .finally(() => this.setState({ isLoading: false }));\n    } else {\n      this.setState({\n        images: [],\n        showButton: false,\n      });\n    }\n  }\n\n  onSubmit = value => {\n    this.setState({ searchQuery: value });\n  };\n\n  onIncrementPage = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  onScrollPage = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.clientHeight,\n        behavior: 'smooth',\n      });\n    }, 1200);\n  };\n\n  onCheckButton = () => {\n    const { totalHits, images } = this.state;\n    if (totalHits > images.length) {\n      this.setState({ showButton: true });\n    } else {\n      this.setState({ showButton: false });\n    }\n    if (!totalHits) {\n      toast.error('No result:( try smth else');\n      return;\n    }\n  };\n\n  toggleModal = ({ status, src, alt }) => {\n    if (status) {\n      this.setState({\n        targetImage: { src, alt },\n        showModal: true,\n      });\n    } else {\n      this.setState({\n        targetImage: null,\n        showModal: false,\n      });\n    }\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      showModal,\n      targetImage,\n      showButton,\n    } = this.state;\n    \n    return (\n      <div className={s.app}>\n        <Searchbar onSubmit={this.onSubmit} />\n        {isLoading && <LoaderView />}\n        {images.length > 0 && (\n          <ImageGallery images={images} toggleModal={this.toggleModal} />\n        )}\n        {showModal && (\n          <Modal\n            src={targetImage.src}\n            alt={targetImage.alt}\n            toggleModal={this.toggleModal}\n          />\n        )}\n        {showButton && <Button onClick={this.onIncrementPage} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__1qhOH\",\"form\":\"Searchbar_form__1Ecrc\",\"searchbutton\":\"Searchbar_searchbutton__2pOfN\",\"label\":\"Searchbar_label__399Rg\",\"input\":\"Searchbar_input__1k9GF\"};"],"sourceRoot":""}